{"ast":null,"code":"import _regeneratorRuntime from \"/home/rails/Desktop/redux-react -saga29/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(addPost),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(Post),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(deletePost),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(update),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nimport { takeLatest, takeEvery, put, all } from 'redux-saga/effects';\nimport axios from 'axios';\n\nfunction addPost(action) {\n  var post, url;\n  return _regeneratorRuntime.wrap(function addPost$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          post = JSON.stringify(action.post);\n          _context.prev = 1;\n          url = \"http://localhost:3000/posts/\";\n          _context.next = 5;\n          return fetch(url, {\n            method: 'POST',\n            body: post,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(function (res) {\n            return res.json();\n          }).then(function (response) {\n            return console.log(\"POST Done\", response);\n          });\n\n        case 5:\n          _context.next = 10;\n          break;\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](1);\n          alert('error' + _context.t0);\n\n        case 10:\n          _context.next = 12;\n          return put({\n            type: 'ADD_NEW_POST_ASYNC',\n            value: post\n          });\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[1, 7]]);\n}\n\nfunction Post() {\n  var data;\n  return _regeneratorRuntime.wrap(function Post$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"POST is Calling..\");\n          _context2.prev = 1;\n          _context2.next = 4;\n          return fetch('http://localhost:3000/posts/').then(function (res) {\n            return res.json();\n          });\n\n        case 4:\n          data = _context2.sent;\n          _context2.next = 7;\n          return put({\n            type: 'POST_ASYNC',\n            value: data\n          });\n\n        case 7:\n          _context2.next = 12;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.log(_context2.t0);\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[1, 9]]);\n}\n\nfunction deletePost(action) {\n  var URL, data;\n  return _regeneratorRuntime.wrap(function deletePost$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          console.log('delete is calling from saga..', action.id);\n          URL = 'http://localhost:3000/posts';\n          fetch(URL + '/' + action.id, {\n            method: 'delete'\n          }).then(function (response) {\n            return response.json().then(function (json) {\n              return json;\n            });\n          });\n          _context3.next = 5;\n          return fetch('http://localhost:3000/posts/').then(function (res) {\n            return res.json();\n          });\n\n        case 5:\n          data = _context3.sent;\n          _context3.next = 8;\n          return put({\n            type: 'POST_ASYNC',\n            value: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this);\n}\n\nfunction update(action) {\n  var data, url;\n  return _regeneratorRuntime.wrap(function update$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          console.log('update is calling1111111');\n          data = JSON.stringify(action.datanewTitle, action.data.newBody);\n          console.log(data.newTitle); //console.log('',data)\n\n          _context4.prev = 3;\n          url = \"http://localhost:3000/posts/\" + action.data.id;\n          _context4.next = 7;\n          return fetch(url, {\n            method: 'PUT',\n            body: data,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(function (res) {\n            return res.json();\n          }).then(function (response) {\n            return console.log(\"PUT Done\", response);\n          });\n\n        case 7:\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4[\"catch\"](3);\n          alert('error' + _context4.t0);\n\n        case 12:\n          _context4.next = 14;\n          return put({\n            type: 'UPDATA_ASYNC'\n          });\n\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this, [[3, 9]]);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          console.log(\"root saga\");\n          _context5.t0 = all;\n          _context5.next = 4;\n          return takeLatest('POST', Post);\n\n        case 4:\n          _context5.t1 = _context5.sent;\n          _context5.next = 7;\n          return takeEvery('ADD_POST', addPost);\n\n        case 7:\n          _context5.t2 = _context5.sent;\n          _context5.next = 10;\n          return takeEvery('DELETE', deletePost);\n\n        case 10:\n          _context5.t3 = _context5.sent;\n          _context5.next = 13;\n          return takeEvery('UPDATE', update);\n\n        case 13:\n          _context5.t4 = _context5.sent;\n          _context5.t5 = [_context5.t1, _context5.t2, _context5.t3, _context5.t4];\n          _context5.next = 17;\n          return (0, _context5.t0)(_context5.t5);\n\n        case 17:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, this);\n}","map":{"version":3,"sources":["/home/rails/Desktop/redux-react -saga29/src/sagas.js"],"names":["addPost","Post","deletePost","update","rootSaga","takeLatest","takeEvery","put","all","axios","action","post","JSON","stringify","url","fetch","method","body","headers","then","res","json","response","console","log","alert","type","value","data","id","URL","datanewTitle","newBody","newTitle"],"mappings":"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","sourcesContent":["import { takeLatest,takeEvery,put,all} from 'redux-saga/effects';\nimport axios from 'axios';\n\n\nfunction* addPost(action)\n{\n    const post=JSON.stringify(action.post)\n\n    try{\n      var url=\"http://localhost:3000/posts/\"\n      yield fetch(url,{\n        method:'POST',\n        body:post,\n        headers: {'Content-Type':'application/json'},\n        })\n        .then(res=>res.json())\n        .then(response => console.log(\"POST Done\",response))\n    }\n    catch(err)\n    {\n      alert('error'+err)\n    }\n\n    yield put({type:'ADD_NEW_POST_ASYNC',value:post})\n}\n\n\n\nfunction* Post()\n{\n    console.log(\"POST is Calling..\")\n    try{\n      const data =  yield fetch('http://localhost:3000/posts/').then(res=>res.json());\n      yield put({type:'POST_ASYNC',value:data})\n\n    }\n    catch(err){\n      console.log(err);\n    }\n}\n\n\nfunction* deletePost(action)\n{\n\n    console.log('delete is calling from saga..',action.id);\n    const URL = 'http://localhost:3000/posts';\n      fetch(URL + '/' + action.id, {\n        method: 'delete'\n      })\n      .then(response =>\n        response.json().then(json => {\n          return json;\n        })\n      );\n\n      const data =  yield fetch('http://localhost:3000/posts/').then(res=>res.json());\n      yield put({type:'POST_ASYNC',value:data})\n\n}\n\n\nfunction* update(action){\n\n  console.log('update is calling1111111');\n  const data=JSON.stringify(action.datanewTitle,action.data.newBody)\n  console.log(data.newTitle)\n  //console.log('',data)\n\n  try{\n    var url=\"http://localhost:3000/posts/\"+action.data.id\n    yield fetch(url,{\n      method:'PUT',\n      body:data,\n      headers: {'Content-Type':'application/json'},\n    })\n    .then(res=>res.json())\n    .then(response => console.log(\"PUT Done\",response))\n  }\n  catch(err)\n    {\n      alert('error'+err)\n    }\n\n    //yield put({ type:'POST' })\n  yield put({type:'UPDATA_ASYNC'})\n\n\n}\n\nexport default function* rootSaga(){\n  console.log(\"root saga\")\n  yield all([\n    yield takeLatest('POST',Post),\n    yield takeEvery('ADD_POST',addPost),\n    yield takeEvery('DELETE',deletePost),\n    yield takeEvery('UPDATE',update)\n\n  ])\n\n}"]},"metadata":{},"sourceType":"module"}